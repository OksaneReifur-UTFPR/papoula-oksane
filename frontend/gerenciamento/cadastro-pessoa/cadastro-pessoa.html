<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cadastro de Pessoa ğŸŒ· - Lindos Detalles</title>
  <link rel="stylesheet" href="cadastro-pessoa.css">
</head>
<body>
  <a href="#" onclick="history.back(); return false;" class="back-button">â† Voltar</a>

  <header>
    <h1>Cadastro de Pessoa ğŸ’—</h1>
    <p>Lindos Detalles</p>
  </header>

  <main>
    <form id="pessoaForm" autocomplete="off" onsubmit="return false;">
      <div class="search-row">
        <label for="searchId">Buscar CPF</label>
        <div class="search-group">
          <input type="text" id="searchId" inputmode="numeric" maxlength="11" placeholder="Digite o CPF" list="cpfsList">
          <datalist id="cpfsList"></datalist>
          <button type="button" id="btnBuscar" class="btn">ğŸ” Buscar</button>
          <button type="button" id="btnLimpar" class="btn ghost">ğŸ§¹ Limpar</button>
        </div>
      </div>

      <div class="form-block">
        <label for="nome_pessoa">Nome</label>
        <input type="text" id="nome_pessoa" placeholder="Nome completo">

        <label for="data_nascimento_pessoa">Data de Nascimento</label>
        <input type="date" id="data_nascimento_pessoa">

        <label for="tipo_pessoa">Tipo</label>
        <select id="tipo_pessoa">
          <option value="">-- Selecione o tipo --</option>
          <option value="cliente">Cliente</option>
          <option value="funcionario">FuncionÃ¡rio</option>
        </select>

        <!-- bloco para funcionÃ¡rio -->
        <div id="funcionarioFields" class="conditional" aria-hidden="true">
          <label for="salario">SalÃ¡rio</label>
          <input type="number" id="salario" step="0.01" min="0" placeholder="0.00">

          <label for="id_cargo">Cargo</label>
          <select id="id_cargo">
            <option value="">Carregando cargos...</option>
          </select>
        </div>

        <!-- bloco para cliente -->
        <div id="clienteFields" class="conditional" aria-hidden="true">
          <label for="data_cadastro">Data de Cadastro</label>
          <input type="date" id="data_cadastro">
        </div>

        <div class="actions">
          <button type="button" id="btnSalvar" class="btn primary">ğŸ’¾ Salvar</button>
          <button type="button" id="btnExcluir" class="btn danger">ğŸ—‘ï¸ Excluir</button>
        </div>
      </div>
    </form>

    <section class="list-section">
      <h2>Lista de Pessoas</h2>
      <div class="table-wrap">
        <table id="pessoasTable">
          <thead>
            <tr>
              <th>CPF</th>
              <th>Nome</th>
              <th>Tipo</th>
              <th>Detalhe</th>
              <th>Data Nasc.</th>
            </tr>
          </thead>
          <tbody id="pessoasTableBody"></tbody>
        </table>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Lindos Detalles</p>
  </footer>

  <div id="messageContainer" class="toast" role="status" aria-live="polite"></div>

  <script src="cadastro-pessoa.js"></script>

  <script>
    // CoraÃ§Ãµes flutuantes discretos (nÃ£o interferem com inputs)
    (function createFloatingHearts() {
      const hearts = ['ğŸ’—','ğŸ’–','ğŸ’•','ğŸ’','ğŸ’“'];
      setInterval(() => {
        const el = document.createElement('div');
        el.className = 'heart';
        el.textContent = hearts[Math.floor(Math.random()*hearts.length)];
        el.style.left = (Math.random() * 95) + 'vw';
        el.style.animationDuration = (7 + Math.random()*6) + 's';
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 13000);
      }, 1400);
    })();
  </script>
</body>
</html>
